@model TaskManagementApp.Models.Comment


<h2 class="text-center mt-5">Adaugare comentariu</h2>
<br />
<div class="container mt-3">
    <div class="row">
        <div class="col-6 offset-3">

            @using (Html.BeginForm(actionName: "New", controllerName: "Comments",
            method: FormMethod.Post))
            {

                @Html.ValidationSummary(false, "", new { @class = "text-danger" })

                @Html.Label("CommentContent", "Continut comentariu", new {@style="font-weight: bold"})
                <br />
                @Html.TextBox("CommentContent", null, new { @class = "form-control" })
                @Html.ValidationMessageFor(m => m.CommentContent, "", new { @class = "text-danger" })
                <br />

                @if (ViewBag.TasksList != null)
                {
                    <label style="font-weight: bold">Selectati Taskul la care doriti sa lasati comentariul</label>
                    @Html.DropDownListFor(m => m.TaskId, new SelectList(ViewBag.TasksList, "Value", "Text"),
            "Selectati Taskul", new { @class = "form-control text-center" })
                    @Html.ValidationMessageFor(m => m.TaskId, null, new { @class = "text-danger" })

                    <br />
                    <br />

                    <div class="text-center">
                        <button class="btn btn-success" type="submit">Adauga comentariul</button>
                    </div>
                }
                else
                {
                    <label>Nu aveti niciun task in proiectele din care faceti parte. Nu se poate adauga comentariul.</label>
                    <br />
                    <br />
                    <div class="text-center">
                        <a class="btn btn-success" href="/Comments/Index">Anuleaza</a>
                    </div>
                }
            }

        </div>
    </div>
</div>